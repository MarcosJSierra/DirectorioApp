{"remainingRequest":"/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/src/components/RadianceApp/SuscriptionTypes.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/src/components/RadianceApp/SuscriptionTypes.vue","mtime":1636350359554},{"path":"/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/node_modules/css-loader/index.js","mtime":1636350488361},{"path":"/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1636350477827},{"path":"/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/node_modules/cache-loader/dist/cjs.js","mtime":1636350489231},{"path":"/home/marcos/Documents/Desarrollo_web/Directorio/DirectorioWeb/directory/directorio/node_modules/vue-loader/lib/index.js","mtime":1636350477824}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.card-title {\n  padding: 0px 0px;\n}\n",{"version":3,"sources":["SuscriptionTypes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6PA;AACA;AACA","file":"SuscriptionTypes.vue","sourceRoot":"src/components/RadianceApp","sourcesContent":["<template>\n  <v-container ma-0 pa-0 fluid>\n    <v-layout class=\"pt-12\">\n      <v-card color=\"grey darken-4\" dark>\n        <v-card-title class=\"mx-6\"\n          ><v-icon large class=\"mx-3\"> mdi-format-list-checks </v-icon\n          >Suscripciones</v-card-title\n        >\n      </v-card>\n    </v-layout>\n    <v-container fluid fill-height>\n      <v-layout child-flex>\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"subscriptionTypes\"\n          :loading=\"loading\"\n          loading-text=\"Cargando... Por favor espere\"\n          class=\"elevation-6\"\n          :footer-props=\"{\n            'items-per-page-text': 'Suscripciones por página',\n            'items-per-page-all-text': 'Todos',\n            'page-text': '{0}-{1} de {2}',\n          }\"\n        >\n          <template v-slot:top>\n            <v-card elevation=\"0\">\n              <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-layout justify-end>\n                    <v-btn\n                      class=\"ma-6\"\n                      color=\"grey darken-4\"\n                      dark\n                      x-large\n                      v-bind=\"attrs\"\n                      v-on=\"on\"\n                      >Nueva Suscripción</v-btn\n                    >\n                  </v-layout>\n                </template>\n                <v-card>\n                  <v-card-title>\n                    <span class=\"text-h5\">{{ formTitle }}</span>\n                  </v-card-title>\n                  <v-card-text>\n                    <v-container>\n                      <v-subheader>Nombre de la suscripción</v-subheader>\n                      <v-row class=\"py-3\">\n                        <v-text-field v-model=\"editedItem.name\" solo></v-text-field>\n                      </v-row>\n                      <v-subheader>Precio de la suscripción</v-subheader>\n                      <v-row class=\"py-3\">\n                        <v-text-field\n                          v-model=\"editedItem.price\"\n                          solo\n                          type=\"number\"\n                        ></v-text-field>\n                      </v-row>\n                      <v-subheader>Descripción de la suscripción</v-subheader>\n\n                      <v-row class=\"py-3\">\n                        <v-textarea\n                          type=\"text\"\n                          solo\n                          rows=\"10\"\n                          v-model=\"editedItem.description\"\n                          class=\"py-3\"\n                        >\n                        </v-textarea>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn depressed @click=\"close\"> Cancelar </v-btn>\n                    <v-btn\n                      depressed\n                      color=\"primary\"\n                      :loading=\"loading\"\n                      @click=\"save(editedItem)\"\n                    >\n                      Guardar\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-card>\n          </template>\n          <template v-slot:item.actions=\"{ item }\">\n            <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n          </template>\n          <template v-slot:no-data>\n            <span\n              >La lista de suscripciones esta vacía. Agrega una suscripción para verla en\n              la lista.</span\n            >\n          </template>\n        </v-data-table>\n      </v-layout>\n    </v-container>\n  </v-container>\n</template>\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"SuscriptionTypes\",\n  data: () => ({\n    loading: true,\n    dialog: false,\n    headers: [\n      {\n        text: \"Nombre\",\n        align: \"center\",\n        value: \"name\",\n      },\n      { text: \"Precio\", align: \"center\", value: \"price\", sortable: false },\n      { text: \"Actions\", align: \"center\", value: \"actions\", sortable: false },\n    ],\n    subscriptionTypes: [],\n    editedIndex: -1,\n    editedItem: {\n      subscriptionTypeId: \"\",\n      name: \"\",\n      price: \"\",\n      description: \"\",\n    },\n    defaultItem: {\n      subscriptionTypeId: \"\",\n      name: \"\",\n      price: \"\",\n      description: \"\",\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"Nueva Suscripción\" : \"Editar Suscripción\";\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n\n  created() {\n    this.initialize();\n  },\n\n  methods: {\n    initialize() {\n      this.loading = true;\n      axios.get(\"subscriptiontype/\").then((response) => {\n        if (response.status == 200) {\n          this.subscriptionTypes = response.data;\n        } else {\n          console.log(response.status);\n        }\n      });\n      this.loading = false;\n    },\n\n    editItem(item) {\n      this.editedIndex = this.subscriptionTypes.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.subscriptionTypes.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save(item) {\n      if (this.editedIndex == -1) {\n        this.loading = true;\n        let json = {\n          name: item.name,\n          price: item.price,\n          description: item.description,\n        };\n        axios.post(\"subscriptiontype/\", json).then((response) => {\n          if (response.status == 200) {\n            this.editedItem.subscriptionTypeId = response.data.subscriptionTypeId;\n            if (this.editedIndex > -1) {\n              Object.assign(this.subscriptionTypes[this.editedIndex], this.editedItem);\n            } else {\n              this.subscriptionTypes.push(this.editedItem);\n            }\n            this.loading = false;\n            let alert = {\n              alert: true,\n              alert_active: true,\n              alert_message: \"Suscripción creada correctamente.\",\n              alert_color: \"success\",\n            };\n            this.$emit(\"chanceAlert\", alert);\n\n            this.close();\n          } else {\n            console.log(response.status);\n          }\n        });\n      } else {\n        this.loading = true;\n        let json = {\n          subscriptionTypeId: item.subscriptionTypeId,\n          name: item.name,\n          price: item.price,\n          description: item.description,\n        };\n        axios.put(\"subscriptiontype/\" + json.subscriptionTypeId, json).then((response) => {\n          if (response.status == 200) {\n            this.editedItem.subscriptionTypeId = response.data.subscriptionTypeId;\n            if (this.editedIndex > -1) {\n              Object.assign(this.subscriptionTypes[this.editedIndex], this.editedItem);\n            } else {\n              this.subscriptionTypes.push(this.editedItem);\n            }\n            this.loading = false;\n            let alert = {\n              alert: true,\n              alert_active: true,\n              alert_message: \"Suscripción editada correctamente.\",\n              alert_color: \"success\",\n            };\n            this.$emit(\"chanceAlert\", alert);\n            this.close();\n          } else {\n            console.log(response.status);\n          }\n        });\n      }\n    },\n  },\n};\n</script>\n<style>\n.card-title {\n  padding: 0px 0px;\n}\n</style>\n"]}]}